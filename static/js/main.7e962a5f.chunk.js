(this["webpackJsonpfriday-project"]=this["webpackJsonpfriday-project"]||[]).push([[0],{100:function(e,t,n){e.exports={notFound:"NotFound_notFound__BKuHp",rotate:"NotFound_rotate__2XOrI"}},114:function(e){e.exports=JSON.parse('{"a":"https://neko-back.herokuapp.com/2.0"}')},117:function(e,t,n){e.exports={loader:"Spinner_loader__1m74L",load7:"Spinner_load7__2T7RE"}},118:function(e,t,n){e.exports={packsContainer:"CardPacks_packsContainer__pIaNg"}},121:function(e,t,n){e.exports={searchPanel:"FieldWithButton_searchPanel__loIW2"}},139:function(e,t,n){},174:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n(33),s=n.n(c),i=(n(139),n(24)),o=n(19),u=n(12),l=n(46),d=n.n(l),j=n(7),p=n(10),O=n(8),b=n.n(O),h=n(20),_=n(58),x=n.n(_),f=n(114).a,S=x.a.create({baseURL:f,withCredentials:!0}),g=function(e){var t={email:e,from:"test-front-admin<test@test.com>",message:'<div style="background-color: lime; padding: 15px">\n                       password recovery link: \n              <a href="https://ewgentgm.github.io/it-incubator-friday-project/#/set-new-password/$token$">\n              link\n              </a></div>'};return S.post("/auth/forgot",t)},E=function(e,t){return S.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return S.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},C=function(){return S.delete("/auth/me",{}).then((function(e){return e.data}))},T=function(){return S.post("/auth/me",{}).then((function(e){return e.data}))},m=function(e,t){return S.post("/auth/register",{email:e,password:t}).then((function(e){return e.data}))};!function(e){e.SET_IS_INITIALIZED="APP/SET_IS_INITIALIZED",e.SET_IS_AUTH="APP/SET_IS_AUTH",e.SET_AUTH_DATA="APP/SET_AUTH_DATA",e.SET_ERROR="APP/SET_ERROR",e.CLEAR_STORE="APP/CLEAR_STORE"}(a||(a={}));var R,A=function(e){return{type:a.SET_IS_AUTH,payload:{isAuth:e}}},y=function(e){return{type:a.SET_AUTH_DATA,payload:{authData:e}}},P={isInitialized:!1,isAuth:!1,authData:{},error:null};!function(e){e.SET_ERROR="LOGIN/SET_ERROR",e.SET_LOADING="LOGIN/SET_LOADING"}(R||(R={}));var k,N=function(e){return{type:R.SET_ERROR,payload:{error:e}}},I=function(e){return{type:R.SET_LOADING,payload:{loading:e}}},D={error:null,loading:!1},w=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},L=function(e){return e.length>6},G=function(e,t){return e===t},F=n(180),B=n(183),K=n(66),U=n(179),M=n(131),H=n(88),z=n(1),W=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),s=Object(u.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),p=Object(u.a)(l,2),O=p[0],_=p[1],x=Object(j.b)(),f=Object(j.c)((function(e){return e.login})),S=Object(z.jsxs)("div",{children:[Object(z.jsxs)("form",{className:d.a.form,children:[Object(z.jsx)("div",{className:d.a.formGroup,children:Object(z.jsx)(F.a,{disabled:f.loading,type:"email",placeholder:"Input email",value:n,onChange:function(e){return a(e.currentTarget.value)}})}),Object(z.jsx)("div",{className:d.a.formGroup,children:Object(z.jsx)(F.a.Password,{disabled:f.loading,placeholder:"Input password",value:i,onChange:function(e){return o(e.currentTarget.value)}})}),Object(z.jsxs)("div",{className:d.a.rememberMeFormGroup,children:[Object(z.jsx)("label",{htmlFor:"rememberMe",className:d.a.fieldLabel,children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"}),Object(z.jsx)(B.a,{disabled:f.loading,checkedChildren:Object(z.jsx)(M.a,{}),unCheckedChildren:Object(z.jsx)(H.a,{}),defaultChecked:!1,onChange:function(e){return _(e)}})]}),Object(z.jsx)(K.a,{type:"primary",className:d.a.button,onClick:function(e){e.preventDefault(),x(function(e,t,n){return function(){var a=Object(h.a)(b.a.mark((function a(r){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(N(null)),r(I(!0)),a.prev=2,a.next=5,v(e,t,n);case 5:c=a.sent,r(y(c)),r(A(!0)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),r(N(a.t0.response?a.t0.response.data.error:a.t0.message));case 13:return a.prev=13,r(I(!1)),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[2,10,13,16]])})));return function(e){return a.apply(this,arguments)}}()}(n,i,O))},loading:f.loading,disabled:!w(n)||!L(i),children:"\u0412\u043e\u0439\u0442\u0438"}),!w(n)&&Object(z.jsx)("span",{className:d.a.error,children:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}),!L(i)&&Object(z.jsx)("span",{className:d.a.error,children:"\u041a\u043e\u0440\u043e\u0442\u043a\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),f.error&&Object(z.jsx)(U.a,{message:f.error,type:"error",closable:!0})]});return Object(z.jsx)(z.Fragment,{children:S})},Y=n(69),J=n.n(Y),V=n(53),q=n.n(V),Z=function(e){return Object(j.c)((function(e){return e.appStatus.isAuth}))?Object(z.jsx)(i.a,{to:Pt.PROFILE}):Object(z.jsx)("div",{className:q.a.fullscreen,children:Object(z.jsxs)("div",{className:J.a.loginPage,children:[Object(z.jsx)("h2",{className:J.a.h2,children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0445\u043e\u0434 \u0432 \u043d\u0430\u0448\u0435 \u0441\u0443\u043f\u0435\u0440\u0441\u043a\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(z.jsxs)("h4",{className:J.a.h4,children:["\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f ",Object(z.jsx)(o.c,{to:Pt.REGISTER,children:"\u0437\u0434\u0435\u0441\u044c"})]}),Object(z.jsxs)("h4",{className:J.a.h4,children:["\u0415\u0441\u043b\u0438 \u0412\u044b \u0437\u0430\u0431\u044b\u043b\u0438 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c, \u0442\u043e \u0412\u0430\u043c ",Object(z.jsx)(o.c,{to:Pt.PASS_RECOVERY,children:"\u0441\u044e\u0434\u0430"})]}),Object(z.jsx)(W,{})]})})},X=n(91),Q=n.n(X);!function(e){e.SET_ERROR="REGISTRATION/SET_ERROR",e.SET_LOADING="REGISTRATION/SET_LOADING",e.SET_IS_REGISTER_SUCCESS="REGISTRATION/SET_IS_REGISTER_SUCCESS"}(k||(k={}));var $,ee={error:null,loading:!1,isRegisterSuccess:!1},te=function(e){return{type:k.SET_ERROR,payload:{error:e}}},ne=function(e){return{type:k.SET_IS_REGISTER_SUCCESS,payload:{isRegisterSuccess:e}}},ae=function(e){return{type:k.SET_LOADING,payload:{loading:e}}},re=n(117),ce=n.n(re),se=function(e){return Object(z.jsx)("div",{className:ce.a.loader,children:"\u0416\u0434\u0438\u0442\u0435 \u043e\u0442\u0441\u0442\u043e\u044f \u043f\u0438\u0432\u0430"})},ie=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.registration})),n=Object(r.useState)(""),a=Object(u.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(""),l=Object(u.a)(o,2),d=l[0],p=l[1];return t.isRegisterSuccess?Object(z.jsx)(i.a,{to:Pt.LOGIN}):Object(z.jsx)("div",{className:Q.a.registerPage,children:Object(z.jsx)("div",{className:Q.a.registerContainer,children:t.loading?Object(z.jsx)(se,{}):Object(z.jsxs)("div",{className:Q.a.registerForm,children:[Object(z.jsx)("input",{value:c,type:"email",name:"email",onChange:function(e){s(e.currentTarget.value)},placeholder:"email"}),Object(z.jsx)("input",{value:d,type:"password",onChange:function(e){p(e.currentTarget.value)},placeholder:"password"}),t.error&&Object(z.jsx)("div",{style:{color:"red"},children:t.error}),Object(z.jsx)("button",{disabled:!w(c)||!L(d),onClick:function(){e(function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ae(!0)),a(te(null)),n.prev=2,n.next=5,m(e,t);case 5:n.sent,a(ne(!0)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),a(te(n.t0.response?n.t0.response.data.error:n.t0.message)),a(ne(!1));case 13:return n.prev=13,a(ae(!1)),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,9,13,16]])})));return function(e){return n.apply(this,arguments)}}()}(c,d)),p("")},children:"Register"}),!w(c)&&Object(z.jsx)("span",{style:{color:"red"},children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 email"}),!L(d)&&Object(z.jsx)("span",{style:{color:"red"},children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})]})})})},oe=function(e){return Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Register Page"}),Object(z.jsx)(ie,{})]})},ue=function(e){Object(j.b)();var t=Object(j.c)((function(e){return e.appStatus.authData}));return Object(z.jsx)("div",{children:Object(z.jsx)("pre",{children:JSON.stringify(t,null,2)})})},le=function(e){return Object(j.c)((function(e){return e.appStatus.isAuth}))?Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Profile Page"}),Object(z.jsx)(ue,{})]}):Object(z.jsx)(i.a,{to:Pt.LOGIN})},de=n(99),je=n.n(de);!function(e){e.SET_ERROR="PASS_RECOVERY/SET_ERROR",e.SET_LOADING="PASS_RECOVERY/SET_LOADING",e.SET_IS_EMAIL_SEND="PASS_RECOVERY/SET_IS_EMAIL_SEND"}($||($={}));var pe,Oe={error:null,loading:!1,isEmailSend:!1},be=function(e){return{type:$.SET_ERROR,payload:{error:e}}},he=function(e){return{type:$.SET_LOADING,payload:{loading:e}}},_e=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(j.b)(),i=Object(j.c)((function(e){return e.passRecovery}));return i.isEmailSend?Object(z.jsx)("div",{children:Object(z.jsxs)("span",{style:{color:"blue",textAlign:"center"},children:["\u0412\u0441\u0451 \u043e\u0442\u043b\u0438\u0447\u043d\u043e, \u0438\u0434\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0439 \u043f\u043e\u0447\u0442\u0443, \u0438 \u0436\u043c\u0438 ",Object(z.jsx)(o.c,{to:Pt.LOGIN,children:"\u0441\u0441\u044b\u043b\u043a\u0443"})]})}):Object(z.jsxs)("div",{className:je.a.passRecovery,children:[Object(z.jsx)("h3",{children:"\u0424\u043e\u0440\u043c\u0430 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),i.loading?Object(z.jsx)("span",{style:{textAlign:"center"},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...."}):Object(z.jsxs)("div",{className:je.a.recoveryForm,children:[Object(z.jsx)("label",{htmlFor:"email",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 email:"}),Object(z.jsx)("input",{type:"email",name:"email",value:a,onChange:function(e){return c(e.currentTarget.value)}}),Object(z.jsx)("button",{onClick:function(){return s(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(he(!0)),n(be(null)),t.prev=2,t.next=5,g(e);case 5:t.sent,n((a=!0,{type:$.SET_IS_EMAIL_SEND,payload:{isEmailSend:a}})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n(be(t.t0.response?t.t0.response.data.error:t.t0.message));case 12:return t.prev=12,n(he(!1)),t.finish(12);case 15:case"end":return t.stop()}var a}),t,null,[[2,9,12,15]])})));return function(e){return t.apply(this,arguments)}}()}(a))},disabled:!w(a),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]}),i.error&&Object(z.jsx)("span",{style:{color:"red",textAlign:"center"},children:i.error})]})},xe=function(e){return Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Password Recovery Page"}),Object(z.jsx)(_e,{})]})},fe=function(){var e=Object(j.c)((function(e){return e})),t=Object.entries(e).map((function(e){return Object(z.jsxs)("div",{children:[Object(z.jsxs)("h5",{children:[e[0],":"]}),Object(z.jsx)("pre",{children:JSON.stringify(e[1],null,2)})]},e[0])}));return Object(z.jsxs)("div",{children:[Object(z.jsx)("h3",{children:"All reducer data"}),t]})},Se=function(e){return Object(j.c)((function(e){return e.appStatus.isAuth}))?Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Test Page"}),Object(z.jsx)(fe,{})]}):Object(z.jsx)(i.a,{to:Pt.LOGIN})},ge=n(100),Ee=n.n(ge),ve=function(e){return Object(z.jsxs)("div",{className:Ee.a.notFound,children:[Object(z.jsx)("div",{className:Ee.a.rotate,children:Object(z.jsx)("span",{children:"404"})}),Object(z.jsx)(o.c,{to:"/test",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})},Ce=function(e){return Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Page 404"}),Object(z.jsx)(ve,{})]})},Te=n(92),me=n.n(Te);!function(e){e.SET_ERROR="PASS_CHANGE/SET_ERROR",e.SET_LOADING="PASS_CHANGE/SET_LOADING",e.SET_IS_CHANGED_PASS="PASS_CHANGE/SET_IS_CHANGED_PASS"}(pe||(pe={}));var Re,Ae={error:null,loading:!1,isChangedPass:!1},ye=function(e){return{type:pe.SET_ERROR,payload:{error:e}}},Pe=function(e){return{type:pe.SET_LOADING,payload:{loading:e}}},ke=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),o=Object(u.a)(s,2),l=o[0],d=o[1],p=Object(j.c)((function(e){return e.passChange})),O=Object(j.b)(),_=Object(i.g)().token;return p.isChangedPass?Object(z.jsx)(i.a,{to:Pt.LOGIN}):Object(z.jsx)("div",{className:me.a.passChange,children:Object(z.jsx)("div",{className:me.a.passChangeContainer,children:p.loading?Object(z.jsx)(se,{}):Object(z.jsxs)("div",{className:me.a.passChangeForm,children:[Object(z.jsx)("span",{children:"\u0421\u043c\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f"}),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",Object(z.jsx)("input",{type:"password",value:a,onChange:function(e){c(e.currentTarget.value)}}),"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",Object(z.jsx)("input",{type:"password",value:l,onChange:function(e){d(e.currentTarget.value)}}),Object(z.jsx)("button",{disabled:!L(a)||!G(a,l),onClick:function(){O(function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(a){return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(Pe(!0)),a(ye(null)),n.prev=2,n.next=5,E(e,t);case 5:n.sent,a((r=!0,{type:pe.SET_IS_CHANGED_PASS,payload:{isChangedPass:r}})),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a(ye(n.t0.response?n.t0.response.data.error:n.t0.message));case 12:return n.prev=12,a(Pe(!1)),n.finish(12);case 15:case"end":return n.stop()}var r}),n,null,[[2,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()}(a,_))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"}),!L(a)&&Object(z.jsx)("span",{style:{color:"red"},children:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"}),!G(a,l)&&Object(z.jsx)("span",{style:{color:"red"},children:"\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"})]})})})},Ne=function(e){return Object(z.jsxs)("div",{children:[Object(z.jsx)("h2",{children:"Password Change Page"}),Object(z.jsx)(ke,{})]})},Ie=n(51),De=n.n(Ie),we=n(118),Le=n.n(we),Ge=n(31),Fe=n.n(Ge),Be=n(182),Ke=n(184),Ue=n(181),Me=n(70),He=n.n(Me),ze=function(e){var t=e.onClose,n=e.onSubmit;return e.visibility?(window.document.body.classList.add("ov_hidden"),Object(z.jsx)("div",{className:He.a.modal,onClick:e.onClose,children:Object(z.jsxs)("div",{className:He.a.modalContent,onClick:function(e){e.stopPropagation()},children:[Object(z.jsxs)("div",{className:He.a.children,children:[Object(z.jsx)("div",{className:He.a.closeBtn,onClick:t,children:"X"}),e.children]}),Object(z.jsx)(K.a,{onClick:n,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"}),Object(z.jsx)(K.a,{onClick:t,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})]})})):(window.document.body.classList.remove("ov_hidden"),null)},We=function(e){var t=e.cardPack,n=e.onDelete,a=e.isMyCardPack,c=e.onEdit,s=Object(r.useState)(!1),i=Object(u.a)(s,2),l=i[0],d=i[1],j=Object(r.useState)(t.name),p=Object(u.a)(j,2),O=p[0],b=p[1];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(ze,{visibility:l,onClose:function(){d(!1)},onSubmit:function(){return c(O)},children:[Object(z.jsx)("h2",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u0434\u044b"}),Object(z.jsx)(F.a,{allowClear:!0,width:200,placeholder:"\u041d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",onChange:function(e){return b(e.currentTarget.value)},value:O})]}),Object(z.jsxs)("div",{className:Fe.a.pack,children:[Object(z.jsx)("div",{className:Fe.a.packHeader,children:Object(z.jsx)("h3",{style:{textAlign:"center",textTransform:"uppercase"},children:t.name})}),Object(z.jsxs)("div",{className:Fe.a.ratingCount,children:[Object(z.jsxs)("div",{className:Fe.a.cardsCount,children:[Object(z.jsx)("h4",{children:"Cards count:"}),Object(z.jsx)("span",{children:t.cardsCount})]}),Object(z.jsxs)("div",{className:Fe.a.rating,children:[Object(z.jsx)("h4",{children:"Rating:"}),Object(z.jsx)("span",{children:t.rating})]})]}),Object(z.jsxs)("div",{className:Fe.a.ratingCount,children:[Object(z.jsxs)("div",{className:Fe.a.cardsCount,children:[Object(z.jsx)("h4",{children:"Shots:"}),Object(z.jsx)("span",{children:t.shots})]}),Object(z.jsxs)("div",{className:Fe.a.rating,children:[Object(z.jsx)("h4",{children:"Grade:"}),Object(z.jsx)("span",{children:t.grade})]})]}),Object(z.jsxs)(Be.a,{align:"middle",children:[Object(z.jsx)(Ke.a,{span:12,children:Object(z.jsx)(o.b,{to:"/cards/".concat(t._id),children:Object(z.jsx)(K.a,{className:Fe.a.action,disabled:!a&&0===t.cardsCount,children:"View"})})}),Object(z.jsx)(Ke.a,{span:12,children:Object(z.jsx)(o.b,{to:"/train/".concat(t._id),children:Object(z.jsx)(K.a,{className:Fe.a.action,disabled:!a&&0===t.cardsCount,children:"Train"})})})]}),a&&Object(z.jsxs)(Be.a,{align:"middle",children:[Object(z.jsx)(Ke.a,{children:Object(z.jsx)(K.a,{className:Fe.a.action,onClick:function(){d(!0)},children:"Edit"})}),Object(z.jsx)(Ke.a,{children:Object(z.jsx)(Ue.a,{onConfirm:n,title:"\u0422\u043e\u0447\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",cancelText:"\u041d\u0435\u0442",okText:"\u0414\u0430",placement:"top",cancelButtonProps:{type:"primary"},okButtonProps:{danger:!0},children:Object(z.jsx)(K.a,{className:Fe.a.action,danger:!0,children:"Remove"})})})]}),Object(z.jsx)("div",{className:Fe.a.user,children:Object(z.jsx)("span",{children:t.user_name})})]})]})},Ye=x.a.create({baseURL:f,withCredentials:!0}),Je=function(e){return Ye.get("/cards/pack",{params:Object(p.a)({},e)})},Ve=function(e){return Ye.delete("/cards/pack?id="+e)},qe=function(e){return Ye.post("/cards/pack",{cardsPack:e})},Ze=function(e,t){return Ye.put("/cards/pack",{cardsPack:{_id:e,name:t}})};!function(e){e.SET_ERROR="CARD_PACKS/SET_ERROR",e.SET_LOADING="CARD_PACKS/SET_LOADING",e.SET_PAGE="CARD_PACKS/SET_PAGE",e.SET_PAGE_COUNT="CARD_PACKS/SET_PAGE_COUNT",e.SET_CARD_PACKS="CARD_PACKS/SET_CARD_PACKS",e.SET_CARD_PACKS_TOTAL_COUNT="CARD_PACKS/SET_CARD_PACKS_TOTAL_COUNT",e.SET_ONLY_MY_PACKS="CARD_PACKS/SET_ONLY_MY_PACKS",e.SET_SHOW_EMPTY_PACKS="CARD_PACKS/SET_SHOW_EMPTY_PACKS"}(Re||(Re={}));var Xe,Qe={error:null,loading:!1,cardPacks:[],cardPacksTotalCount:0,maxCardsCount:0,minCardsCount:0,pageCount:10,page:1,onlyMyPacks:!1,showEmptyPacks:!1},$e=function(e){return{type:Re.SET_CARD_PACKS,payload:{cardPacks:e}}},et=function(e){return{type:Re.SET_ERROR,payload:{error:e}}},tt=function(e){return{type:Re.SET_LOADING,payload:{loading:e}}},nt=function(e,t,n,a){return function(){var r=Object(h.a)(b.a.mark((function r(c,s){var i,o;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(tt(!0)),c(et(null)),c($e([])),i=s().cardPacks.showEmptyPacks?void 0:1,r.prev=4,r.next=7,Je({pageCount:e,page:t,user_id:n,packName:a,min:i});case 7:o=r.sent,c($e(o.data.cardPacks)),c((u=o.data.cardPacksTotalCount,{type:Re.SET_CARD_PACKS_TOTAL_COUNT,payload:{cardPacksTotalCount:u}})),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(4),c(et(r.t0.response?r.t0.response.data.error:r.t0.message));case 15:return r.prev=15,c(tt(!1)),r.finish(15);case 18:case"end":return r.stop()}var u}),r,null,[[4,12,15,18]])})));return function(e,t){return r.apply(this,arguments)}}()},at=function(e){var t=Object(j.b)(),n=Object(j.c)((function(e){return e.appStatus.authData._id})),a=e.cardPacks,r=function(e){var n;t((n=e,function(){var e=Object(h.a)(b.a.mark((function e(t,a){var r,c,s,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(tt(!0)),t(et(null)),e.prev=2,e.next=5,Ve(n);case 5:r=a().cardPacks,c=r.pageCount,s=r.page,i=r.onlyMyPacks,o=i?a().appStatus.authData._id:void 0,t(nt(c,s,o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(et(e.t0.response?e.t0.response.data.error:e.t0.message));case 13:return e.prev=13,t(tt(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()))},c=function(e,n){t(function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(a,r){var c,s,i,o,u;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(tt(!0)),a(et(null)),n.prev=2,n.next=5,Ze(e,t);case 5:c=r().cardPacks,s=c.pageCount,i=c.page,o=c.onlyMyPacks,u=o?r().appStatus.authData._id:void 0,a(nt(s,i,u)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a(et(n.t0.response?n.t0.response.data.error:n.t0.message));case 13:return n.prev=13,a(tt(!1)),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})));return function(e,t){return n.apply(this,arguments)}}()}(e,n))};return Object(z.jsx)("div",{className:Le.a.packsContainer,children:a.map((function(e){return Object(z.jsx)(We,{cardPack:e,isMyCardPack:n===e.user_id,onDelete:function(){return r(e._id)},onEdit:function(t){return c(e._id,t)}},e._id)}))})},rt=n(178),ct=n(176),st=n(121),it=n.n(st),ot=function(e){var t,n=Object(r.useState)(""),a=Object(u.a)(n,2),c=a[0],s=a[1],i=function(){e.action(c),s("")};return Object(z.jsxs)("div",{className:it.a.searchPanel,children:[Object(z.jsx)(F.a,{disabled:e.disabled,placeholder:e.inputPlaceholder,value:c,onKeyPress:function(e){return"Enter"===e.key&&i()},onChange:function(e){s(e.currentTarget.value)}}),Object(z.jsx)(K.a,{onClick:i,disabled:e.disabled,children:null!==(t=e.buttonLabel)&&void 0!==t?t:"Do it"})]})},ut=function(e){var t=Object(j.b)(),n=Object(j.c)((function(e){return e.appStatus.isAuth})),a=Object(j.c)((function(e){var t;return null!==(t=e.appStatus.authData._id)&&void 0!==t?t:""})),c=Object(j.c)((function(e){return e.cardPacks})),s=c.error,o=c.loading,u=c.cardPacks,l=c.cardPacksTotalCount,d=c.page,p=c.pageCount,O=c.onlyMyPacks,_=c.showEmptyPacks;if(Object(r.useEffect)((function(){t(nt(p,d,O?a:void 0))}),[p,d,O,_,a,t]),!n)return Object(z.jsx)(i.a,{to:Pt.LOGIN});return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("h2",{children:"Card Packs Page"}),Object(z.jsxs)("div",{className:De.a.optionsBar,children:[Object(z.jsx)("div",{className:De.a.options,children:Object(z.jsx)(rt.a,{onShowSizeChange:function(e,n){t(function(e){return{type:Re.SET_PAGE_COUNT,payload:{pageCount:e}}}(n))},onChange:function(e){t(function(e){return{type:Re.SET_PAGE,payload:{page:e}}}(e))},defaultCurrent:1,showSizeChanger:!0,current:d,pageSize:p,disabled:o,showQuickJumper:!0,total:l})}),Object(z.jsxs)("div",{className:De.a.checkBoxBar,children:[Object(z.jsxs)("div",{className:De.a.checkBoxBarItem,children:[Object(z.jsx)("label",{children:"\u0422\u043e\u043b\u044c\u043a\u043e \u043c\u043e\u0438 \u043a\u043e\u043b\u043e\u0434\u044b"}),Object(z.jsx)(B.a,{disabled:o,checkedChildren:Object(z.jsx)(M.a,{}),unCheckedChildren:Object(z.jsx)(H.a,{}),checked:O,onChange:function(e){return t(function(e){return{type:Re.SET_ONLY_MY_PACKS,payload:{onlyMyPacks:e}}}(e))}})]}),Object(z.jsxs)("div",{className:De.a.checkBoxBarItem,children:[Object(z.jsx)("label",{children:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u0435 \u043a\u043e\u043b\u043e\u0434\u044b"}),Object(z.jsx)(B.a,{disabled:o,checkedChildren:Object(z.jsx)(M.a,{}),unCheckedChildren:Object(z.jsx)(H.a,{}),checked:_,onChange:function(e){return t(function(e){return{type:Re.SET_SHOW_EMPTY_PACKS,payload:{showEmptyPacks:e}}}(e))}})]})]}),Object(z.jsx)("div",{className:De.a.searchBar,children:Object(z.jsx)(ot,{disabled:o,inputPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u0434\u044b",buttonLabel:"\u041f\u043e\u0438\u0441\u043a",action:function(e){t(nt(p,d,O?a:void 0,e))}})}),Object(z.jsx)("div",{className:De.a.searchBar,children:Object(z.jsx)(ot,{disabled:o,inputPlaceholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0439 \u043a\u043e\u043b\u043e\u0434\u044b",buttonLabel:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",action:function(e){var n;t((n={name:e},function(){var e=Object(h.a)(b.a.mark((function e(t,a){var r,c,s,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(tt(!0)),t(et(null)),e.prev=2,e.next=5,qe(n);case 5:r=a().cardPacks,c=r.pageCount,s=r.page,i=r.onlyMyPacks,o=i?a().appStatus.authData._id:void 0,t(nt(c,s,o)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(et(e.t0.response?e.t0.response.data.error:e.t0.message));case 13:return e.prev=13,t(tt(!1)),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()))}})}),Object(z.jsx)("div",{style:{marginTop:"25px",textAlign:"center"},children:s&&Object(z.jsx)(U.a,{message:s,type:"error",closeText:"Close",closable:!0})})]}),o?Object(z.jsx)("div",{style:{marginTop:"25px",textAlign:"center"},children:Object(z.jsx)(ct.a,{size:"large",tip:"Loading..."})}):Object(z.jsx)(at,{cardPacks:u})]})},lt=n(43),dt=n.n(lt),jt=function(e){var t=e.card,n=e.onDelete,a=e.onEdit,c=e.ownCard,s=void 0!==c&&c,i=Object(r.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(r.useState)(t.question),p=Object(u.a)(j,2),O=p[0],b=p[1],h=Object(r.useState)(t.answer),_=Object(u.a)(h,2),x=_[0],f=_[1],S=Object(z.jsxs)(ze,{onClose:function(){d(!1)},onSubmit:function(){return a(null!==O&&void 0!==O?O:void 0,null!==x&&void 0!==x?x:void 0)},visibility:l,children:[Object(z.jsx)("h2",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438:"}),Object(z.jsx)(F.a,{allowClear:!0,width:200,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0432\u043e\u043f\u0440\u043e\u0441",onChange:function(e){return b(e.currentTarget.value)},value:O}),Object(z.jsx)(F.a,{style:{marginTop:"15px"},allowClear:!0,width:200,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u043e\u0442\u0432\u0435\u0442",onChange:function(e){return f(e.currentTarget.value)},value:x})]}),g=Object(z.jsxs)(Be.a,{justify:"center",children:[Object(z.jsx)(Ke.a,{span:12,children:Object(z.jsx)(K.a,{className:dt.a.cardButton,onClick:function(){d(!0)},children:"Edit"})}),Object(z.jsx)(Ke.a,{span:12,children:Object(z.jsx)(Ue.a,{onConfirm:n,title:"\u0422\u043e\u0447\u043d\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c?",cancelText:"\u041d\u0435\u0442",okText:"\u0414\u0430",placement:"top",cancelButtonProps:{type:"primary"},okButtonProps:{danger:!0},children:Object(z.jsx)(K.a,{danger:!0,className:dt.a.cardButton,children:"Remove"})})})]});return Object(z.jsxs)(z.Fragment,{children:[S,Object(z.jsxs)("div",{className:dt.a.card,children:[Object(z.jsx)(Be.a,{justify:"center",align:"middle",children:Object(z.jsxs)("h3",{children:["Q: ",t.question]})}),Object(z.jsx)(Be.a,{justify:"center",align:"middle",children:Object(z.jsxs)("span",{children:["A: ",t.answer]})}),Object(z.jsxs)(Be.a,{justify:"center",style:{margin:"10px 0"},children:[Object(z.jsxs)(Ke.a,{span:12,children:[Object(z.jsx)("span",{className:dt.a.cardStats,children:"Rating: "}),Object(z.jsx)("span",{className:dt.a.cardStatsValue,children:t.rating})]}),Object(z.jsxs)(Ke.a,{span:12,children:[Object(z.jsx)("span",{className:dt.a.cardStats,children:"Shots: "}),Object(z.jsx)("span",{className:dt.a.cardStatsValue,children:t.shots})]})]}),Object(z.jsx)(Be.a,{justify:"center",style:{margin:"10px 0"},children:Object(z.jsxs)(Ke.a,{span:12,children:[Object(z.jsx)("span",{className:dt.a.cardStats,children:"Grade: "}),Object(z.jsx)("span",{className:dt.a.cardStatsValue,children:t.grade.toFixed(4)})]})}),s&&g]})]})},pt=x.a.create({baseURL:f,withCredentials:!0}),Ot=function(e){return pt.get("/cards/card",{params:Object(p.a)({},e)})},bt=function(e){return pt.delete("/cards/card?id="+e)},ht=function(e){return pt.post("/cards/card",{card:e})},_t=function(e,t,n){return pt.put("/cards/card",{card:{_id:e,question:t,answer:n}})},xt=function(e){return pt.put("/cards/grade",e)};!function(e){e.SET_ERROR="CARDS/SET_ERROR",e.SET_LOADING="CARDS/SET_LOADING",e.SET_PAGE="CARDS/SET_PAGE",e.SET_PAGE_COUNT="CARDS/SET_PAGE_COUNT",e.SET_CARDS="CARDS/SET_CARDS",e.SET_CARDS_TOTAL_COUNT="CARDS/SET_CARDS_TOTAL_COUNT",e.SET_PACK_OWNER="CARDS/SET_PACK_OWNER"}(Xe||(Xe={}));var ft,St={packOwner:"",cardsPackId:"",error:null,loading:!1,cards:[],cardsTotalCount:0,maxCardsCount:0,minCardsCount:0,pageCount:10,page:1},gt=function(e,t){return{type:Xe.SET_CARDS,payload:{cards:e,cardsPackId:t}}},Et=function(e){return{type:Xe.SET_ERROR,payload:{error:e}}},vt=function(e){return{type:Xe.SET_LOADING,payload:{loading:e}}},Ct=function(e,t,n){return function(){var a=Object(h.a)(b.a.mark((function a(r){var c;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(vt(!0)),r(Et(null)),r(gt([],n)),a.prev=3,a.next=6,Ot({pageCount:e,page:t,cardsPack_id:n});case 6:c=a.sent,r(gt(c.data.cards,n)),r((s=c.data.cardsTotalCount,{type:Xe.SET_CARDS_TOTAL_COUNT,payload:{cardsTotalCount:s}})),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(3),r(Et(a.t0.response?a.t0.response.data.error:a.t0.message));case 14:return a.prev=14,r(vt(!1)),a.finish(14);case 17:case"end":return a.stop()}var s}),a,null,[[3,11,14,17]])})));return function(e){return a.apply(this,arguments)}}()},Tt=function(e){var t=Object(j.b)(),n=Object(j.c)((function(e){return e.appStatus.authData._id})),a=e.cards,r=function(e,n){t(function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(a,r){var c,s,i;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(vt(!0)),a(Et(null)),n.prev=2,n.next=5,bt(e);case 5:c=r().cards,s=c.pageCount,i=c.page,a(Ct(s,i,t)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a(Et(n.t0.response?n.t0.response.data.error:n.t0.message));case 12:return n.prev=12,a(vt(!1)),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})));return function(e,t){return n.apply(this,arguments)}}()}(e,n))},c=function(e,n,a){t(function(e,t,n){return function(){var a=Object(h.a)(b.a.mark((function a(r,c){var s,i,o;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r(vt(!0)),r(Et(null)),a.prev=2,a.next=5,_t(e,t,n);case 5:s=c().cards,i=s.pageCount,o=s.page,r(Ct(i,o,c().cards.cardsPackId)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),r(Et(a.t0.response?a.t0.response.data.error:a.t0.message));case 12:return a.prev=12,r(vt(!1)),a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[2,9,12,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(e,n,a))};return Object(z.jsx)(z.Fragment,{children:a.map((function(e){return Object(z.jsx)(Ke.a,{xxl:8,xl:12,lg:12,flex:"none",children:Object(z.jsx)(jt,{onDelete:function(){return r(e._id,e.cardsPack_id)},onEdit:function(t,n){c(e._id,t,n)},ownCard:n===e.user_id,card:e},e._id)},e._id)}))})},mt=n(177),Rt=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),o=i[0],l=i[1],d={marginBottom:"15px"},j=function(){l(""),c("")};return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(Be.a,{style:d,wrap:!0,gutter:20,justify:"center",align:"middle",children:[Object(z.jsx)(Ke.a,{span:4,style:{textAlign:"right"},children:Object(z.jsx)("span",{children:"\u0412\u043e\u043f\u0440\u043e\u0441"})}),Object(z.jsx)(Ke.a,{span:16,children:Object(z.jsx)(F.a,{disabled:e.disabled,onChange:function(e){return c(e.currentTarget.value)},value:a,size:"small",placeholder:"\u0412\u043e\u043f\u0440\u043e\u0441"})})]}),Object(z.jsxs)(Be.a,{style:d,wrap:!0,gutter:20,justify:"center",align:"middle",children:[Object(z.jsx)(Ke.a,{span:4,style:{textAlign:"right"},children:Object(z.jsx)("span",{children:"\u041e\u0442\u0432\u0435\u0442"})}),Object(z.jsx)(Ke.a,{span:16,children:Object(z.jsx)(F.a.TextArea,{disabled:e.disabled,allowClear:!0,onChange:function(e){return l(e.currentTarget.value)},value:o,size:"small",placeholder:"\u041e\u0442\u0432\u0435\u0442"})})]}),Object(z.jsx)(Be.a,{justify:"center",align:"middle",gutter:20,children:Object(z.jsxs)(Ke.a,{span:16,offset:4,children:[Object(z.jsx)(K.a,{disabled:e.disabled,size:"small",onClick:function(){e.onSubmit({question:a,answer:o}),j()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(z.jsx)(K.a,{disabled:e.disabled,size:"small",onClick:j,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})})]})},At=function(e){var t=Object(j.b)(),n=Object(j.c)((function(e){return e.appStatus.isAuth})),a=Object(i.g)().cardPackId,c=Object(j.c)((function(e){return e.cards})),s=c.error,o=c.loading,u=c.cards,l=c.cardsTotalCount,d=c.page,O=c.pageCount;if(Object(r.useEffect)((function(){t(Ct(O,d,a))}),[O,d,a,t]),!n)return Object(z.jsx)(i.a,{to:Pt.LOGIN});var _=Object(z.jsx)(rt.a,{onShowSizeChange:function(e,n){t(function(e){return{type:Xe.SET_PAGE_COUNT,payload:{pageCount:e}}}(n))},onChange:function(e){t(function(e){return{type:Xe.SET_PAGE,payload:{page:e}}}(e))},defaultCurrent:1,showSizeChanger:!0,current:d,pageSize:O,disabled:o||0===l,showQuickJumper:!0,total:l});return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Be.a,{justify:"center",children:Object(z.jsx)(Ke.a,{span:16,offset:4,children:_})}),Object(z.jsx)(mt.a,{plain:!0,children:a}),Object(z.jsx)(Be.a,{justify:"center",children:Object(z.jsx)(Ke.a,{span:12,children:Object(z.jsx)(Rt,{onSubmit:function(e){t(function(e){return function(){var t=Object(h.a)(b.a.mark((function t(n,a){var r,c,s;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(vt(!0)),n(Et(null)),t.prev=2,t.next=5,ht(e);case 5:r=a().cards,c=r.pageCount,s=r.page,n(Ct(c,s,a().cards.cardsPackId)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),n(Et(t.t0.response?t.t0.response.data.error:t.t0.message));case 12:return t.prev=12,n(vt(!1)),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})));return function(e,n){return t.apply(this,arguments)}}()}(Object(p.a)(Object(p.a)({},e),{},{cardsPack_id:a})))},disabled:o})})}),s&&Object(z.jsx)(Be.a,{style:{marginTop:"25px"},justify:"center",children:Object(z.jsx)(Ke.a,{children:Object(z.jsx)(U.a,{message:s,type:"error",closeText:"Close",closable:!0})})}),o?Object(z.jsx)(Be.a,{justify:"center",children:Object(z.jsx)(ct.a,{size:"large",tip:"Loading..."})}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(mt.a,{plain:!0,children:0===u.length?"\u0410 \u043a\u0430\u0440\u0442\u043e\u0447\u0435\u043a-\u0442\u043e \u043d\u0435\u0442....":"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0438\u0437 \u043a\u043e\u043b\u043e\u0434\u044b"}),Object(z.jsx)(Be.a,{style:{padding:"25px"},justify:"center",wrap:!0,gutter:[40,40],children:Object(z.jsx)(Tt,{cards:u})})]})]})},yt=n(185);!function(e){e.SET_ERROR="TRAIN/SET_ERROR",e.SET_LOADING="TRAIN/SET_LOADING",e.SET_CARDS="TRAIN/SET_CARDS",e.SET_GRADE="TRAIN/SET_GRADE"}(ft||(ft={}));var Pt,kt={cardsPack:{},error:null,loading:!1,cards:[]},Nt=function(e,t){return{type:ft.SET_CARDS,payload:{cards:e,cardsPackId:t}}},It=function(e,t){return{type:ft.SET_GRADE,payload:{cardId:e,grade:t}}},Dt=function(e){return{type:ft.SET_ERROR,payload:{error:e}}},wt=function(e){return{type:ft.SET_LOADING,payload:{loading:e}}},Lt=n(71),Gt=n.n(Lt),Ft=function(e){var t=e.card,n=e.showAnswer;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Be.a,{className:Gt.a.title,justify:"center",children:"\u0412\u043e\u043f\u0440\u043e\u0441:"}),Object(z.jsx)(Be.a,{className:Gt.a.question,justify:"center",children:t.question}),n&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Be.a,{className:Gt.a.title,justify:"center",children:"\u041e\u0442\u0432\u0435\u0442:"}),Object(z.jsx)(Be.a,{className:Gt.a.question,justify:"center",children:t.answer})]})]})},Bt=function(e){var t=Object(r.useState)(null),n=Object(u.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!0),o=Object(u.a)(s,2),l=o[0],d=o[1],p=Object(r.useState)(!1),O=Object(u.a)(p,2),_=O[0],x=O[1],f=Object(r.useState)(!1),S=Object(u.a)(f,2),g=S[0],E=S[1],v=Object(i.g)().cardPackId,C=Object(j.c)((function(e){return e.appStatus.isAuth})),T=Object(j.c)((function(e){return e.train})),m=T.cards,R=(T.cardsPack,T.error,T.loading),A=Object(j.b)(),y=function(){c(P(m)),x(!1)},P=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),n=Math.random()*t,a=e.reduce((function(e,t,a){var r=e.sum+(6-t.grade)*(6-t.grade);return{sum:r,id:r<n?a:e.id}}),{sum:0,id:-1});return console.log("test: ",t,n,a),e[a.id+1]};if(Object(r.useEffect)((function(){var e;return console.log("Training page useEffect call"),l&&(console.log("dispatch(setCardsTC(cardPackId))"),A((e=v,function(){var t=Object(h.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(wt(!0)),n(Dt(null)),n(Nt([],e)),t.prev=3,t.next=6,Ot({cardsPack_id:e,page:1,pageCount:1e3});case 6:a=t.sent,n(Nt(a.data.cards,e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),n(Dt(t.t0.response?t.t0.response.data.error:t.t0.message));case 13:return t.prev=13,n(wt(!1)),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[3,10,13,16]])})));return function(e){return t.apply(this,arguments)}}())),d(!1)),m.length>0&&y(),function(){console.log("Training page useEffect off")}}),[v,A,l,m]),0===m.length)return Object(z.jsx)(z.Fragment,{children:Object(z.jsx)(Be.a,{children:Object(z.jsx)("h3",{children:"\u0412\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u043f\u0443\u0441\u0442\u0443\u044e \u043a\u043e\u043b\u043e\u0434\u0443"})})});if(!C)return Object(z.jsx)(i.a,{to:Pt.LOGIN});if(g)return Object(z.jsx)(i.a,{to:Pt.CARD_PACKS});var k=function(e){a&&A(function(e,t){return function(){var n=Object(h.a)(b.a.mark((function n(a){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(wt(!0)),a(Dt(null)),n.prev=2,n.next=5,xt({grade:t,card_id:e});case 5:r=n.sent,a(It(r.data.updatedGrade.card_id,r.data.updatedGrade.grade)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a(Dt(n.t0.response?n.t0.response.data.error:n.t0.message));case 12:return n.prev=12,a(wt(!1)),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})));return function(e){return n.apply(this,arguments)}}()}(a._id,e))},N=["\u041d\u0435 \u0437\u043d\u0430\u044e","\u0417\u043d\u0430\u044e \u043f\u043b\u043e\u0445\u043e","\u041d\u0443\u0436\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c","\u0417\u043d\u0430\u044e \u0445\u043e\u0440\u043e\u0448\u043e","\u0417\u043d\u0430\u044e \u043e\u0442\u043b\u0438\u0447\u043d\u043e"].map((function(e,t){return Object(z.jsx)(K.a,{onClick:function(){return k(t+1)},disabled:!_||R,children:e})}));return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(Be.a,{children:Object(z.jsx)("h3",{children:"Learning Page"})})," ",R?Object(z.jsx)(Be.a,{children:Object(z.jsx)(se,{})}):a&&Object(z.jsx)(Ft,{showAnswer:_,card:a}),Object(z.jsx)(Be.a,{justify:"center",style:{marginTop:"10px"},children:Object(z.jsxs)(yt.b,{children:[!_&&Object(z.jsx)(K.a,{onClick:function(){return x(!0)},children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442"}),Object(z.jsx)(K.a,{onClick:y,disabled:R,children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043a\u0430\u0440\u0442\u0430"})]})}),_&&Object(z.jsx)(Be.a,{justify:"center",style:{marginTop:"10px"},children:Object(z.jsx)(yt.b,{children:N})}),Object(z.jsx)(Be.a,{justify:"center",style:{marginTop:"10px"},children:Object(z.jsx)(Ue.a,{onConfirm:function(){return E(!0)},title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",okText:"\u0414\u0430",cancelText:"\u041d\u0435\u0442",children:Object(z.jsx)(K.a,{danger:!0,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043a\u043e\u043b\u043e\u0434\u0430\u043c"})})})]})};!function(e){e.LOGIN="/login",e.REGISTER="/register",e.PROFILE="/profile",e.CARD_PACKS="/card-packs",e.CARDS="/cards",e.TRAINING="/train",e.PAGE404="/404",e.PASS_RECOVERY="/password-recovery",e.TEST="/test",e.SET_NEW_PASSWORD="/set-new-password"}(Pt||(Pt={}));var Kt=function(){return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(i.d,{children:[Object(z.jsx)(i.b,{path:"/",exact:!0,render:function(){return Object(z.jsx)(i.a,{to:Pt.TEST})}}),Object(z.jsx)(i.b,{path:Pt.LOGIN,exact:!0,render:function(){return Object(z.jsx)(Z,{})}}),Object(z.jsx)(i.b,{path:Pt.REGISTER,exact:!0,render:function(){return Object(z.jsx)(oe,{})}}),Object(z.jsx)(i.b,{path:Pt.PROFILE,exact:!0,render:function(){return Object(z.jsx)(le,{})}}),Object(z.jsx)(i.b,{path:Pt.PASS_RECOVERY,exact:!0,render:function(){return Object(z.jsx)(xe,{})}}),Object(z.jsx)(i.b,{path:Pt.CARD_PACKS,exact:!0,render:function(){return Object(z.jsx)(ut,{})}}),Object(z.jsx)(i.b,{path:Pt.SET_NEW_PASSWORD+"/:token",exact:!0,render:function(){return Object(z.jsx)(Ne,{})}}),Object(z.jsx)(i.b,{path:Pt.CARDS+"/:cardPackId",exact:!0,render:function(){return Object(z.jsx)(At,{})}}),Object(z.jsx)(i.b,{path:Pt.TRAINING+"/:cardPackId",exact:!0,render:function(){return Object(z.jsx)(Bt,{})}}),Object(z.jsx)(i.b,{path:Pt.TEST,exact:!0,render:function(){return Object(z.jsx)(Se,{})}}),Object(z.jsx)(i.b,{render:function(){return Object(z.jsx)(Ce,{})}})]})})},Ut=n(72),Mt=n.n(Ut);function Ht(){var e=Object(j.c)((function(e){return e.login})),t=Object(j.b)();return Object(z.jsx)("nav",{className:Mt.a.navbar,children:Object(z.jsx)("div",{className:q.a.container,children:Object(z.jsxs)("ul",{children:[Object(z.jsx)("li",{children:Object(z.jsx)(K.a,{type:"link",onClick:function(){t(function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(I(!0)),t(N(null)),e.prev=2,e.next=5,C();case 5:t({type:a.CLEAR_STORE}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t(N(e.t0.response?e.t0.response.data.error:e.t0.message));case 11:return e.prev=11,t(I(!1)),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])})));return function(t){return e.apply(this,arguments)}}())},loading:e.loading,disabled:e.loading,children:"Logout"})}),Object(z.jsx)("li",{children:Object(z.jsx)(o.c,{to:Pt.PROFILE,activeClassName:Mt.a.linkActive,children:"Profile"})}),Object(z.jsx)("li",{children:Object(z.jsx)(o.c,{to:Pt.CARD_PACKS,activeClassName:Mt.a.linkActive,children:"Card packs"})}),Object(z.jsx)("li",{children:Object(z.jsx)(o.c,{to:Pt.TEST,activeClassName:Mt.a.linkActive,children:"Test"})})]})})})}var zt=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.appStatus.isInitialized})),n=Object(j.c)((function(e){return e.appStatus.isAuth}));return Object(r.useEffect)((function(){t||(console.log("Call AppInitialize"),e(function(){var e=Object(h.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T();case 3:n=e.sent,t(y(n)),t(A(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t((c=e.t0.response?e.t0.response.data.error:e.t0.message,{type:a.SET_ERROR,payload:{error:c}}));case 11:return e.prev=11,t((r=!0,{type:a.SET_IS_INITIALIZED,payload:{isInitialized:r}})),e.finish(11);case 14:case"end":return e.stop()}var r,c}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()))})),t?Object(z.jsxs)(z.Fragment,{children:[n&&Object(z.jsx)(Ht,{}),Object(z.jsx)("div",{className:q.a.container,children:Object(z.jsx)(Kt,{})})]}):Object(z.jsx)("div",{className:q.a.fullscreen,children:Object(z.jsx)(ct.a,{size:"large"})})},Wt=n(68),Yt={test:"test"},Jt={},Vt=n(126),qt=Object(Wt.b)({test:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.CLEAR_STORE:return Yt;default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.CLEAR_STORE:return Jt;default:return e}},registration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.SET_ERROR:case k.SET_LOADING:case k.SET_IS_REGISTER_SUCCESS:return Object(p.a)(Object(p.a)({},e),t.payload);case a.CLEAR_STORE:return ee;default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.SET_ERROR:case R.SET_LOADING:return Object(p.a)(Object(p.a)({},e),t.payload);case a.CLEAR_STORE:return D;default:return e}},appStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.SET_IS_INITIALIZED:case a.SET_IS_AUTH:case a.SET_AUTH_DATA:case a.SET_ERROR:return Object(p.a)(Object(p.a)({},e),t.payload);case a.CLEAR_STORE:return P;default:return e}},passChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe.SET_ERROR:case pe.SET_LOADING:case pe.SET_IS_CHANGED_PASS:return Object(p.a)(Object(p.a)({},e),t.payload);case a.CLEAR_STORE:return Ae;default:return e}},passRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.SET_ERROR:case $.SET_LOADING:case $.SET_IS_EMAIL_SEND:return Object(p.a)(Object(p.a)({},e),t.payload);case a.CLEAR_STORE:return Oe;default:return e}},cardPacks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re.SET_ERROR:case Re.SET_LOADING:case Re.SET_CARD_PACKS:case Re.SET_CARD_PACKS_TOTAL_COUNT:case Re.SET_PAGE:case Re.SET_PAGE_COUNT:case Re.SET_ONLY_MY_PACKS:case Re.SET_SHOW_EMPTY_PACKS:return Object(p.a)(Object(p.a)({},e),t.payload);case a.CLEAR_STORE:return Qe;default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe.SET_ERROR:case Xe.SET_LOADING:case Xe.SET_CARDS:case Xe.SET_CARDS_TOTAL_COUNT:case Xe.SET_PAGE:case Xe.SET_PAGE_COUNT:case Xe.SET_PACK_OWNER:return Object(p.a)(Object(p.a)({},e),t.payload);case a.CLEAR_STORE:return St;default:return e}},train:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft.SET_ERROR:case ft.SET_LOADING:case ft.SET_CARDS:return Object(p.a)(Object(p.a)({},e),t.payload);case ft.SET_GRADE:return Object(p.a)(Object(p.a)({},e),{},{cards:e.cards.map((function(e){return e._id!==t.payload.cardId?e:Object(p.a)(Object(p.a)({},e),{},{grade:t.payload.grade})}))});case a.CLEAR_STORE:return kt;default:return e}}}),Zt=Object(Wt.c)(qt,Object(Wt.a)(Vt.a));window.store=Zt;n(173);s.a.render(Object(z.jsx)(j.a,{store:Zt,children:Object(z.jsx)(o.a,{children:Object(z.jsx)(zt,{})})}),document.getElementById("root"))},31:function(e,t,n){e.exports={pack:"CardPack_pack__2m3Wc",packHeader:"CardPack_packHeader__1Okxb",ratingCount:"CardPack_ratingCount__f6tWY",cardsCount:"CardPack_cardsCount__1C66R",rating:"CardPack_rating__1AEBW",actions:"CardPack_actions__23XhH",action:"CardPack_action__1laq5",user:"CardPack_user__3S4Ph"}},43:function(e,t,n){e.exports={card:"Card_card__2TFbj",cardStats:"Card_cardStats__2SjIJ",cardStatsValue:"Card_cardStatsValue__3HaFH",cardButton:"Card_cardButton__2zWwO"}},46:function(e,t,n){e.exports={form:"Login_form__N0V3r",formGroup:"Login_formGroup__2iiXm",rememberMeFormGroup:"Login_rememberMeFormGroup__J0PFY",textField:"Login_textField__urKPD",fieldLabel:"Login_fieldLabel__3WD2v",button:"Login_button__2U0Gs",error:"Login_error__2f02u"}},51:function(e,t,n){e.exports={optionsBar:"CardPacksPage_optionsBar__2tlzk",options:"CardPacksPage_options__1HuMz",searchBar:"CardPacksPage_searchBar__2xTAv",checkBoxBar:"CardPacksPage_checkBoxBar__38nnW",checkBoxBarItem:"CardPacksPage_checkBoxBarItem__2-WqW"}},53:function(e,t,n){e.exports={container:"commonStyle_container__3XfKk",fullscreen:"commonStyle_fullscreen__1cir9"}},69:function(e,t,n){e.exports={loginPage:"LoginPage_loginPage__3gr2s",h2:"LoginPage_h2__28tJk",h4:"LoginPage_h4__3XQ94"}},70:function(e,t,n){e.exports={modal:"Modal_modal__2dLMR",modalContent:"Modal_modalContent__3q-lZ",closeBtn:"Modal_closeBtn__Da_QC"}},71:function(e,t,n){e.exports={title:"TrainingCard_title__1Zj-f",question:"TrainingCard_question__2aHDj"}},72:function(e,t,n){e.exports={navbar:"Navbar_navbar__1JxPS",linkActive:"Navbar_linkActive__2TGIt"}},91:function(e,t,n){e.exports={registerPage:"Register_registerPage__ICKdK",registerContainer:"Register_registerContainer__tTLrm",registerForm:"Register_registerForm__1zF3j"}},92:function(e,t,n){e.exports={passChange:"PassChange_passChange__3AwJP",passChangeContainer:"PassChange_passChangeContainer__24DNb",passChangeForm:"PassChange_passChangeForm__1Gu7J"}},99:function(e,t,n){e.exports={passRecovery:"PasswordRecovery_passRecovery__nDE1f",recoveryForm:"PasswordRecovery_recoveryForm__2b-79"}}},[[174,1,2]]]);
//# sourceMappingURL=main.7e962a5f.chunk.js.map