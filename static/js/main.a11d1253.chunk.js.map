{"version":3,"sources":["components/Login/Login.module.css","components/navbar/Navbar.module.css","components/common/commonStyle.module.css","components/register/Register.module.css","components/pass-recovery/PasswordRecovery.module.css","components/page404/NotFound.module.css","routes/Routes.tsx","utils/api.ts","components/Login/Login.tsx","Pages/LoginPage.tsx","store/registration-reducer.ts","components/register/Register.tsx","Pages/RegisterPage.tsx","Pages/ProfilePage.tsx","components/pass-recovery/PasswordRecovery.tsx","Pages/PassRecoveryPage.tsx","components/test-component/TestComponent.tsx","Pages/TestPage.tsx","components/page404/NotFound.tsx","Pages/Page404.tsx","Pages/PassChangePage.tsx","components/navbar/Navbar.tsx","store/app-reducer.ts","components/App.tsx","store/test-reducer.ts","store/profile-reducer.ts","store/login-reducer.ts","store/store.ts","index.tsx"],"names":["module","exports","PATH","instance","axios","create","baseURL","withCredentials","api","email","reqBody","from","message","post","then","res","data","password","rememberMe","Login","useState","setEmail","pwd","setPwd","remember","setRemember","error","setError","setLoading","response","setResponse","loginCallback","event","a","preventDefault","className","styles","form","formGroup","htmlFor","fieldLabel","value","onChange","e","currentTarget","textField","id","type","checked","button","onClick","JSON","stringify","LoginPage","props","initialState","Register","dispatch","useDispatch","setPassword","registerPage","registerContainer","registerForm","name","alert","registerTC","RegisterPage","ProfilePage","PasswordRecovery","loading","sendData","passRecovery","style","textAlign","recoveryForm","PassRecoveryPage","TestComponent","allReducerData","useSelector","state","elements","Object","entries","map","elem","TestPage","appStatus","isAuth","to","NotFound","notFound","rotate","Page404","PassChangePage","Routes","path","exact","render","TEST","LOGIN","REGISTER","PROFILE","PASS_RECOVERY","PASS_CHANGE","Navbar","navbar","commonStyles","container","activeClassName","linkActive","PAGE404","ACTION_TYPE","isInitialized","authData","App","useEffect","SET_AUTH_DATA","payload","SET_IS_AUTH","SET_ERROR","SET_IS_INITIALIZED","test","rootReducer","combineReducers","action","profile","registration","login","store","createStore","applyMiddleware","thunk","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a11d1253.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Login_form__tlqFF\",\"formGroup\":\"Login_formGroup__11Bw2\",\"textField\":\"Login_textField__3O7mQ\",\"fieldLabel\":\"Login_fieldLabel__3M6n9\",\"button\":\"Login_button__Ky4ng\",\"error\":\"Login_error__3EBLC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2pC_2\",\"linkActive\":\"Navbar_linkActive__1M-rz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"commonStyle_container__1-ufD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registerPage\":\"Register_registerPage__2OphF\",\"registerContainer\":\"Register_registerContainer__FgRhd\",\"registerForm\":\"Register_registerForm__2y4vV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"passRecovery\":\"PasswordRecovery_passRecovery__1qSyO\",\"recoveryForm\":\"PasswordRecovery_recoveryForm__dcSc9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notFound\":\"NotFound_notFound__3MG8E\",\"rotate\":\"NotFound_rotate__2Uv1K\"};","import React from 'react';\r\nimport {Redirect, Route, Switch} from 'react-router-dom';\r\nimport {LoginPage} from '../Pages/LoginPage';\r\nimport {RegisterPage} from '../Pages/RegisterPage';\r\nimport {ProfilePage} from '../Pages/ProfilePage';\r\nimport {PassRecoveryPage} from '../Pages/PassRecoveryPage';\r\nimport {TestPage} from '../Pages/TestPage';\r\nimport {Page404} from '../Pages/Page404';\r\nimport {PassChangePage} from '../Pages/PassChangePage';\r\n\r\nexport enum PATH {\r\n    LOGIN = '/login',\r\n    REGISTER = '/register',\r\n    PROFILE = '/profile',\r\n    PAGE404 = '/404',\r\n    PASS_RECOVERY = '/password-recovery',\r\n    TEST = '/test',\r\n    PASS_CHANGE='/password-change'\r\n}\r\n\r\nexport const Routes: React.VFC = () => {\r\n    return (\r\n        <>\r\n            <Switch>\r\n                <Route\r\n                    path={'/'}\r\n                    exact\r\n                    render={() => <Redirect to={PATH.TEST}/>}\r\n                />\r\n                <Route\r\n                    path={PATH.LOGIN}\r\n                    render={() => <LoginPage/>}/>\r\n                <Route\r\n                    path={PATH.REGISTER}\r\n                    render={() => <RegisterPage/>}/>\r\n                <Route\r\n                    path={PATH.PROFILE}\r\n                    render={() => <ProfilePage/>}/>\r\n                <Route\r\n                    path={PATH.PASS_RECOVERY}\r\n                    render={() => <PassRecoveryPage/>}/>\r\n                <Route\r\n                    path={PATH.PASS_CHANGE}\r\n                    render={() => <PassChangePage/>}/>\r\n                <Route\r\n                    path={PATH.TEST}\r\n                    render={() => <TestPage/>}/>\r\n                <Route render={() => <Page404/>}/>\r\n            </Switch>\r\n        </>\r\n    );\r\n};","import axios from 'axios';\r\n\r\nconst LOCAL_URL = 'http://localhost:7542/2.0/';\r\nconst REMOTE_URL = 'https://neko-back.herokuapp.com/2.0';\r\nconst FROM = 'test-front-admin <test@test.com>';\r\n\r\nconst instance = axios.create({baseURL: REMOTE_URL, withCredentials: true});\r\n\r\nexport const api = {\r\n\r\n  passRecovery(email: string) {\r\n    const htmlBody = `<div style=\"background-color: lime; padding: 15px\">\r\n                       password recovery link: \r\n              <a href=\"http://localhost:3000/#/set-new-password/$token$\">\r\n              link\r\n              </a></div>`;\r\n    const reqBody = {\r\n      email,\r\n      from: FROM,\r\n      message: htmlBody\r\n    };\r\n    return instance.post<InfoResponseType>('/auth/forgot', reqBody).then(res => res.data);\r\n  },\r\n\r\n  login(email: string, password: string, rememberMe: boolean = false) {\r\n    return instance.post<LoginResponseType>('/auth/login', {email, password, rememberMe}).then(res => res.data);\r\n  },\r\n\r\n  logout() {\r\n    return instance.delete<InfoResponseType>('/auth/me', {}).then(res => res.data);\r\n  },\r\n\r\n  me() {\r\n    return instance.post<LoginResponseType>('/auth/me', {}).then(res => res.data);\r\n  },\r\n\r\n  register(email: string, password: string) {\r\n    return instance.post<RegisterResponseType>('/auth/register', {email, password}).then(res => res.data);\r\n  }\r\n\r\n};\r\n\r\nexport type LoginResponseType = {\r\n  _id: string;\r\n  email: string;\r\n  name: string;\r\n  avatar?: string;\r\n  publicCardPacksCount: number; // количество колод\r\n  created: Date;\r\n  updated: Date;\r\n  isAdmin: boolean;\r\n  verified: boolean; // подтвердил ли почту\r\n  rememberMe: boolean;\r\n  error?: string;\r\n}\r\n\r\ntype InfoResponseType = {\r\n  info: string\r\n  error: string\r\n}\r\n\r\ntype RegisterResponseType = {\r\n  addedUser: any\r\n  error?: string\r\n}","import React, {useState} from 'react';\r\nimport styles from './Login.module.css';\r\nimport {api} from '../../utils/api';\r\n\r\nexport const Login: React.VFC = () => {\r\n  const [email, setEmail] = useState<string>('');\r\n  const [pwd, setPwd] = useState<string>('');\r\n  const [remember, setRemember] = useState<boolean>(false);\r\n  const [error, setError] = useState<boolean>(false);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [response, setResponse] = useState<any | null>(null);\r\n\r\n  const loginCallback = async (event: React.MouseEvent<HTMLButtonElement>) => {\r\n    setResponse(null);\r\n    setError(false);\r\n    setEmail('');\r\n    setPwd('');\r\n    setRemember(false);\r\n\r\n    event.preventDefault();\r\n    try {\r\n      const res = await api.login(email, pwd, remember);\r\n      setResponse(res);\r\n    } catch (e) {\r\n      setError(true);\r\n      setResponse(e.response ? e.response.data.error : e.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      Логинизация\r\n      <form className={styles.form}>\r\n        <div className={styles.formGroup}>\r\n          <label\r\n            htmlFor=\"email\"\r\n            className={styles.fieldLabel}>Введите email</label>\r\n          <input\r\n            value={email}\r\n            onChange={e => setEmail(e.currentTarget.value)}\r\n            className={styles.textField}\r\n            id={'email'}\r\n            type=\"email\"/>\r\n        </div>\r\n        <div className={styles.formGroup}>\r\n          <label\r\n            htmlFor=\"password\"\r\n            className={styles.fieldLabel}>Введите пароль</label>\r\n          <input\r\n            value={pwd}\r\n            onChange={e => setPwd(e.currentTarget.value)}\r\n            className={styles.textField}\r\n            id={'password'}\r\n            type=\"password\"/>\r\n        </div>\r\n        <div className={styles.formGroup}>\r\n          <label\r\n            htmlFor=\"rememberMe\"\r\n            className={styles.fieldLabel}>Запомнить меня</label>\r\n          <input\r\n            checked={remember}\r\n            onChange={e => setRemember(e.currentTarget.checked)}\r\n            id={'rememberMe'}\r\n            type=\"checkbox\"/>\r\n        </div>\r\n        <div className={styles.button}>\r\n          <button onClick={loginCallback}>Войти</button>\r\n        </div>\r\n      </form>\r\n      <div>\r\n        {response &&\r\n        <pre className={error ? styles.error : ''}>{JSON.stringify(response, null, 2)}</pre>}\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport {Login} from '../components/Login/Login';\r\n\r\ntype PropsType = {};\r\n\r\nexport const LoginPage: React.FC<PropsType> = props => {\r\n  return (\r\n    <div>\r\n      <h2>Login Page</h2>\r\n      <Login/>\r\n    </div>\r\n  );\r\n};","import {Dispatch} from \"react\";\r\nimport {api} from \"../utils/api\";\r\n\r\ntype StateType = typeof initialState;\r\n\r\nconst initialState = {};\r\n\r\nexport const registrationReducer = (state: StateType = initialState, action: any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const registerTC = (email: string, password: string) => async (dispatch: Dispatch<any>) => {\r\n    try {\r\n        const register = await api.register(email, password)\r\n        alert('Регитсрация прошла успешно')\r\n    }\r\n    catch (e) {\r\n        alert(e.response.data.error)\r\n    }\r\n\r\n}","import React, {ChangeEvent, useState} from 'react';\r\nimport styles from \"./Register.module.css\"\r\nimport {useDispatch} from \"react-redux\";\r\nimport {registerTC} from \"../../store/registration-reducer\";\r\n\r\nexport const Register:React.VFC = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n\r\n    const changePassword = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setPassword(e.currentTarget.value)\r\n    }\r\n\r\n    const changeEmail = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setEmail(e.currentTarget.value)\r\n    }\r\n\r\n    const onSubmit = () => {\r\n       dispatch(registerTC(email, password))\r\n    }\r\n    return (\r\n        <div className={styles.registerPage}>\r\n            <div className={styles.registerContainer}>\r\n                <div className={styles.registerForm}>\r\n                    <input value={email} type=\"email\" name=\"email\" onChange={changeEmail}/>\r\n                    <input value={password} type=\"password\" onChange={changePassword}/>\r\n                    <button onClick={onSubmit}>Register</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","import React from 'react';\r\nimport {Register} from \"../components/register/Register\";\r\n\r\n\r\ntype PropsType = {};\r\n\r\nexport const RegisterPage: React.FC<PropsType> = props => {\r\n    return (\r\n        <div>\r\n            <h2>Register Page</h2>\r\n            <Register/>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\n\r\ntype PropsType = {};\r\n\r\nexport const ProfilePage: React.FC<PropsType> = props => {\r\n    return (\r\n        <div>\r\n            <h2>Profile Page</h2>\r\n        </div>\r\n    );\r\n};","import React, {useState} from 'react';\r\nimport styles from './PasswordRecovery.module.css';\r\nimport {api} from '../../utils/api';\r\n\r\ntype PropsType = {};\r\n\r\nexport const PasswordRecovery: React.FC<PropsType> = props => {\r\n\r\n  const [email, setEmail] = useState<string>('');\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  const sendData = async () => {\r\n    setLoading(true);\r\n    // Пока просто заглушка\r\n    await api.passRecovery(email);\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.passRecovery}>\r\n      <h3>Форма восстановление пароля</h3>\r\n      {!loading\r\n        ? <div className={styles.recoveryForm}>\r\n          <label htmlFor=\"email\">Введите ваш email:</label>\r\n          <input\r\n            type=\"email\"\r\n            name={'email'}\r\n            value={email}\r\n            onChange={e => setEmail(e.currentTarget.value)}/>\r\n          <button onClick={sendData}>Отправить</button>\r\n        </div>\r\n        : <span style={{textAlign: 'center'}}>Отправка....</span>}\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport {PasswordRecovery} from '../components/pass-recovery/PasswordRecovery';\r\n\r\ntype PropsType = {};\r\n\r\nexport const PassRecoveryPage: React.FC<PropsType> = props => {\r\n  return (\r\n    <div>\r\n      <h2>Password Recovery Page</h2>\r\n      <PasswordRecovery/>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport styles from './TestComponent.module.css';\r\nimport {useSelector} from 'react-redux';\r\nimport {AppStateType} from '../../store/store';\r\n\r\nexport const TestComponent: React.VFC = () => {\r\n\r\n  const allReducerData = useSelector<AppStateType, AppStateType>(state => state);\r\n  const elements = Object.entries(allReducerData).map(elem => {\r\n    return <div key={elem[0]}>\r\n      <h5>{elem[0]}:</h5>\r\n      <pre>{JSON.stringify(elem[1], null, 2)}</pre>\r\n    </div>;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <h3>All reducer data</h3>\r\n      {elements}\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport {TestComponent} from '../components/test-component/TestComponent';\r\nimport {AppStateType} from '../store/store';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\n\r\ntype PropsType = {};\r\n\r\nexport const TestPage: React.FC<PropsType> = props => {\r\n\r\n  const isAuth = useSelector<AppStateType, boolean>(state => state.appStatus.isAuth);\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to={'/login'}/>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Test Page</h2>\r\n      <TestComponent/>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport styles from './NotFound.module.css';\r\nimport img404 from './404.png';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\ntype PropsType = {};\r\n\r\nexport const NotFound: React.FC<PropsType> = props => {\r\n\r\n  return (\r\n    <div className={styles.notFound}>\r\n      <div className={styles.rotate}>\r\n        <span>404</span>\r\n      </div>\r\n      <NavLink to={'/test'}>\r\n        На главную\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\nimport {NotFound} from '../components/page404/NotFound';\r\n\r\ntype PropsType = {};\r\n\r\nexport const Page404: React.FC<PropsType> = props => {\r\n  return (\r\n    <div>\r\n      <h2>Page 404</h2>\r\n      <NotFound/>\r\n    </div>\r\n  );\r\n};","import React from 'react';\r\n\r\ntype PropsType = {};\r\n\r\nexport const PassChangePage: React.FC<PropsType> = props => {\r\n    return (\r\n        <div>\r\n            <h2>Password Change Page</h2>\r\n        </div>\r\n    );\r\n};","import {NavLink} from 'react-router-dom';\r\nimport {PATH} from '../../routes/Routes';\r\nimport React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport commonStyles from '../common/commonStyle.module.css';\r\n\r\nexport function Navbar() {\r\n  return <nav className={styles.navbar}>\r\n    <div className={commonStyles.container}>\r\n\r\n      <ul>\r\n        <li>\r\n          <NavLink\r\n            to={PATH.LOGIN}\r\n            activeClassName={styles.linkActive}>\r\n            Login\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            to={PATH.REGISTER}\r\n            activeClassName={styles.linkActive}>\r\n            Register\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            to={PATH.PROFILE}\r\n            activeClassName={styles.linkActive}>\r\n            Profile\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            to={PATH.PASS_RECOVERY}\r\n            activeClassName={styles.linkActive}>\r\n            Pass recovery\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            to={PATH.PASS_CHANGE}\r\n            activeClassName={styles.linkActive}>\r\n            Pass change\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            to={PATH.TEST}\r\n            activeClassName={styles.linkActive}>\r\n            Test\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink\r\n            to={PATH.PAGE404}\r\n            activeClassName={styles.linkActive}>\r\n            404\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </nav>;\r\n}","import {Dispatch} from 'redux';\r\nimport {api, LoginResponseType} from '../utils/api';\r\n\r\nenum ACTION_TYPE {\r\n  SET_IS_INITIALIZED = 'SET_IS_INITIALIZED',\r\n  SET_IS_AUTH = 'SET_IS_AUTH',\r\n  SET_AUTH_DATA = 'SET_AUTH_DATA',\r\n  SET_ERROR = 'SET_ERROR'\r\n}\r\n\r\n// Action creators\r\nexport const setIsInitializedAC = (isInitialized: boolean) => {\r\n  return {type: ACTION_TYPE.SET_IS_INITIALIZED as const, payload: {isInitialized}};\r\n};\r\n\r\nexport const setIsAuthAC = (isAuth: boolean) => {\r\n  return {\r\n    type: ACTION_TYPE.SET_IS_AUTH as const, payload: {isAuth}\r\n  };\r\n};\r\n\r\nexport const setError = (error: string | null) => {\r\n  return {type: ACTION_TYPE.SET_ERROR as const, payload: {error}};\r\n};\r\nexport const setAuthData = (authData: LoginResponseType) => {\r\n  return {type: ACTION_TYPE.SET_AUTH_DATA as const, payload: {authData}};\r\n};\r\n// ------------------\r\n\r\n// Thunk creators\r\nexport const AppInitializeTC = () => async (dispatch: Dispatch) => {\r\n  try {\r\n    const response = await api.me();\r\n    dispatch(setAuthData(response));\r\n    dispatch(setIsAuthAC(true));\r\n  } catch (e) {\r\n    dispatch(setError(e.response ? e.response.data.error : e.message));\r\n  } finally {\r\n    dispatch(setIsInitializedAC(true));\r\n  }\r\n};\r\n// ------------------\r\n\r\nexport type AppReducerActionsType =\r\n  ReturnType<typeof setIsInitializedAC>\r\n  | ReturnType<typeof setIsAuthAC>\r\n  | ReturnType<typeof setError>\r\n  | ReturnType<typeof setAuthData>\r\n\r\ntype StateType = typeof initialState;\r\nconst initialState = {\r\n  isInitialized: false,\r\n  isAuth: false,\r\n  authData: {},\r\n  error: null as string | null\r\n};\r\n\r\nexport const appReducer = (state: StateType = initialState, action: AppReducerActionsType): StateType => {\r\n  switch (action.type) {\r\n    case ACTION_TYPE.SET_IS_INITIALIZED: {\r\n      return {...state, isInitialized: action.payload.isInitialized};\r\n    }\r\n    case ACTION_TYPE.SET_IS_AUTH: {\r\n      return {...state, isAuth: action.payload.isAuth};\r\n    }\r\n    case ACTION_TYPE.SET_AUTH_DATA: {\r\n      return {...state, authData: action.payload.authData};\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};","import React, {useEffect} from 'react';\r\nimport {HashRouter} from 'react-router-dom';\r\nimport {Routes} from '../routes/Routes';\r\nimport {Navbar} from './navbar/Navbar';\r\nimport commonStyles from '../components/common/commonStyle.module.css';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {AppStateType} from '../store/store';\r\nimport {AppInitializeTC} from '../store/app-reducer';\r\n\r\nfunction App() {\r\n\r\n  const dispatch = useDispatch();\r\n  const isInitialized = useSelector<AppStateType, boolean>(state => state.appStatus.isInitialized);\r\n\r\n  useEffect(() => {\r\n    dispatch(AppInitializeTC());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      {isInitialized\r\n        ? <HashRouter>\r\n          <Navbar/>\r\n          <div className={commonStyles.container}>\r\n            <h1 style={{textAlign: 'center'}}>This is mega super friday project</h1>\r\n            <Routes/>\r\n          </div>\r\n        </HashRouter>\r\n        : <span>Ждите отстоя пива...</span>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","type StateType = typeof initialState;\r\n\r\nconst initialState = {\r\n    test: 'test'\r\n};\r\n\r\nexport const testReducer = (state: StateType = initialState, action: any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n};","type StateType = typeof initialState;\r\n\r\nconst initialState = {};\r\n\r\nexport const profileReducer = (state: StateType = initialState, action: any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n};","type StateType = typeof initialState;\r\n\r\nconst initialState = {};\r\n\r\nexport const loginReducer = (state: StateType = initialState, action: any) => {\r\n    switch (action.type) {\r\n        default:\r\n            return state;\r\n    }\r\n};","import {combineReducers, applyMiddleware} from 'redux';\r\nimport {testReducer} from './test-reducer';\r\nimport {profileReducer} from './profile-reducer';\r\nimport {registrationReducer} from './registration-reducer';\r\nimport {loginReducer} from './login-reducer';\r\nimport {createStore} from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport {appReducer} from './app-reducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  test: testReducer,\r\n  profile: profileReducer,\r\n  registration: registrationReducer,\r\n  login: loginReducer,\r\n  appStatus: appReducer\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>;\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\n//@ts-ignore\r\nwindow.store = store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport {Provider} from 'react-redux';\r\nimport {store} from './store/store';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}